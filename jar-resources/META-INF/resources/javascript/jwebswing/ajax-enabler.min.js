
var ids;var currentEventType;var componentID;var componentRenderingID;var nextComponentID;var myLayout;$.fn.jw=function(b){b=$.extend({},$.fn.jw.defaults,b);var a=b.eventType;$(this).on(a+"."+b.eventNameSpace,"*",function(){performAjax($(this).attr("id"),a,a,b.valueFunction)});$.fn.jw.defaults={eventType:"EventType",eventNameSpace:"jw",valueFunction:$(this).val()}};var currentReceived;function receiveUpdate(a){$(a).find("compUpdate").each(function(){currentReceived=$(this).text();componentID=$(this).find("ID").text();var b=$(this).find("Commands").text();componentRenderingID=$(this).find("ComponentRendering").text();if(componentRenderingID===""){if(processHTML($(this),false)){processCSSLinks($(this));processCSS($(this));if(processScriptLinks($(this))){processScripts($(this))}else{alert("Couldnt Load JavaScript")}resizeLayouts()}else{alert("Couldnt Process HTML")}}else{componentRenderingID=$(this).find("ComponentRendering").text();nextComponentID=$(this).find("NextComponentToRender").text();processCommand($(this))}})}function processScripts(e){var f=e.find("ScriptUpdate");var d=f.length;var g=0;for(var h in f){if(g===d){break}if(typeof f[h]==="object"){var c=jQuery(f[h]);var a=c.val();if(a===0){c.addClass("js_warning");return false}var b=c.text();jQuery.globalEval(b)}g++}}jQuery.cachedScript=function(b,a){a=$.extend(a||{},{dataType:"script",cache:true,url:b,async:false});return jQuery.ajax(a)};var scriptsDynamicallyLoaded=[];function processScriptLinks(c){var d=c.find("ScriptLinkUpdate");var h=d.length;var f=0;for(var k in d){if(f===h){break}if(typeof d[k]==="object"){var e=jQuery(d[k]);var b=e.val();if(b===0){e.addClass("js_warning");return false}var g=e.text();if(g.indexOf("http")===-1){var i=document.location.href.substring(0,document.location.href.lastIndexOf("/"));var a=i+"/"+g;g=a}if(g.lastIndexOf(".js")>1){var j=document.createElement("script");j.type="application/javascript";j.src=g;$.cachedScript(g)}}f++}return true}function processCSSLinks(a){a.find("CSSLinkUpdate").each(function(){var d=$(this).text();if(d.indexOf("http")===-1){var e=document.location.href.substring(0,document.location.href.lastIndexOf("/"));var f=e+"/"+d;d=f}var b=$('link[href="'+d+'"]').length;var c=$('link[href="'+$(this).text()+'"]').length;if(b===0&&c===0){$("head").append('<link rel="stylesheet" type="text/css" href="'+d+'">')}})}function stringToDOM(f){var b={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[1,"<div>","</div>"]};b.optgroup=b.option;b.tbody=b.tfoot=b.colgroup=b.caption=b.thead;b.th=b.td;var e=document.createElement("div");var d=/<\s*\w.*?>/g.exec(f);if(d!==null){var a=d[0].replace(/</g,"").replace(/>/g,"");var g=b[a]||b._default,e;f=g[1]+f+g[2];e.innerHTML=f;var c=g[0]+1;while(c--){e=e.lastChild}}else{e.innerHTML=f;e=e.lastChild}return e}function processHTML(a,b){var d;if(!b){d=a.find("HTMLUpdate").text();var c=stringToDOM(d);$("#"+componentID).replaceWith(c);$("#"+componentID).parent().show()}return true}function processCSS(a){a.find("CSSUpdate").each(function(){var b=$(this).text();$("html").append("<style>"+b+"</style>")})}function processEvents(a){$("#"+componentID).unbind();a.find("EventType").each(function(){var b=$(this).text();bindEvent(componentID,b)})}function processCommand(a){a.find("NextComponentToRender").each(function(){nextComponentID=$(this).text();processScriptLinks(a);processCSSLinks(a);processHTML(a,true);processCSS(a);processEvents(a);renderOnLoad(componentRenderingID,nextComponentID)})}function renderOnLoad(b,a){performCommand(b,"RenderOnLoad",a)}function clickFunction(b,a){performAjax(b,a,a,$("#"+b).text())}function performCommand(c,b,a){performAjax(c,"performCommand",b,a)}function performAjax(g,b,e,c){var a=document.getElementById(g);var f=new Date();var d=new Object();d.componentId=g;d.eventType=b;d.eventTypeFrom=e;d.datetime=f;d.value=JSON.stringify(JSON.decycle(c));$.ajax({type:"POST",url:"JWebSwingAjaxReceiver",data:JSON.stringify(JSON.decycle(d)),asynch:false,converters:{"json xml":true},success:receiveUpdate,error:failedAjax})}function failedAjax(a,c,b){alert("session looks lost. Reloading page");location.reload()}function getXml(b){if(window.XMLSerializer){oXMLSerializer=new XMLSerializer();var a=oXMLSerializer.serializeToString(b);return a}if(b.outerXML){return b.outerXML}return""}function returnObjectById(b){var a;if(document.getElementById){a=document.getElementById(b)}else{if(document.all){a=document.all[b]}else{if(document.layers){a=document.layers[b]}}}return a}$(document).ready(function(){$(".jqxNaviBar").bind("expandedItem",function(b){var a=b.item+1;$(window).resize()});$(window).resize()});function resizeLayouts(){$("html").find("[jwtype='layout']").each(function(a){var c="lay_"+$(this).prop("id");c=c.replace(/-/g,"_");var b="setTimeout('"+c+".resizeAll();',10);";jQuery.globalEval(b);b="setTimeout('"+c+".resizeAll();',1000);";jQuery.globalEval(b)})}function initthemes(e){if($("#themeComboBox").length===0){return}if(!$("#themeComboBox").jqxDropDownList){alert("Theme combo box is not drop down list")}var i=[0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];var g=[{label:"Arctic",group:"Themes",value:"arctic"},{label:"Web",group:"Themes",value:"web"},{label:"Bootstrap",group:"Themes",value:"bootstrap"},{label:"Metro",group:"Themes",value:"metro"},{label:"Metro Dark",group:"Themes",value:"metrodark"},{label:"Office",group:"Themes",value:"office"},{label:"Orange",group:"Themes",value:"orange"},{label:"Fresh",group:"Themes",value:"fresh"},{label:"Energy Blue",group:"Themes",value:"energyblue"},{label:"Dark Blue",group:"Themes",value:"darkblue"},{label:"Black",group:"Themes",value:"black"},{label:"Shiny Black",group:"Themes",value:"shinyblack"},{label:"Classic",group:"Themes",value:"classic"},{label:"Summer",group:"Themes",value:"summer"},{label:"High Contrast",group:"Themes",value:"highcontrast"},{label:"Lightness",group:"UI Compatible",value:"ui-lightness"},{label:"Darkness",group:"UI Compatible",value:"ui-darkness"},{label:"Smoothness",group:"UI Compatible",value:"ui-smoothness"},{label:"Start",group:"UI Compatible",value:"ui-start"},{label:"Redmond",group:"UI Compatible",value:"ui-redmond"},{label:"Sunny",group:"UI Compatible",value:"ui-sunny"},{label:"Overcast",group:"UI Compatible",value:"ui-overcast"},{label:"Le Frog",group:"UI Compatible",value:"ui-le-frog"}];var f=this;this.$head=$("head");$("#themeComboBox").jqxDropDownList({source:g,theme:"arctic",selectedIndex:0,dropDownHeight:200,width:"140px",height:"20px"});var c=window.location.toString().indexOf("?");if(c!==-1){var h=window.location.toString().indexOf("(");var b=window.location.toString().indexOf(")");var d=window.location.toString().substring(h+1,b);$.data(document.body,"theme",d);selectedTheme=d;var a=0;$.each(g,function(j){if(this.value===d){a=j;return false}});$("#themeComboBox").jqxDropDownList({selectedIndex:a});i[0]=-1;i[a]=0}else{$.data(document.body,"theme","arctic")}$("#themeComboBox").on("select",function(j){setTimeout(function(){var l=j.args.index;var o="";var n=e;var m=i[l]!==-1;i[l]=l;var k=[{label:"Arctic",group:"Themes",value:"arctic"},{label:"Web",group:"Themes",value:"web"},{label:"Bootstrap",group:"Themes",value:"bootstrap"},{label:"Metro",group:"Themes",value:"metro"},{label:"Metro Dark",group:"Themes",value:"metrodark"},{label:"Office",group:"Themes",value:"office"},{label:"Orange",group:"Themes",value:"orange"},{label:"Fresh",group:"Themes",value:"fresh"},{label:"Energy Blue",group:"Themes",value:"energyblue"},{label:"Dark Blue",group:"Themes",value:"darkblue"},{label:"Black",group:"Themes",value:"black"},{label:"Shiny Black",group:"Themes",value:"shinyblack"},{label:"Classic",group:"Themes",value:"classic"},{label:"Summer",group:"Themes",value:"summer"},{label:"High Contrast",group:"Themes",value:"highcontrast"},{label:"Lightness",group:"UI Compatible",value:"ui-lightness"},{label:"Darkness",group:"UI Compatible",value:"ui-darkness"},{label:"Smoothness",group:"UI Compatible",value:"ui-smoothness"},{label:"Start",group:"UI Compatible",value:"ui-start"},{label:"Redmond",group:"UI Compatible",value:"ui-redmond"},{label:"Sunny",group:"UI Compatible",value:"ui-sunny"},{label:"Overcast",group:"UI Compatible",value:"ui-overcast"},{label:"Le Frog",group:"UI Compatible",value:"ui-le-frog"}];o=k[l].value;n+="jqx."+o+".css";if(!m){if(document.createStyleSheet!==undefined){document.createStyleSheet(n)}else{f.$head.append('<link rel="stylesheet" href="'+n+'" media="screen" />')}}$.data(document.body,"theme",o)},5)})}function getTextElementByColor(b){if(b==="transparent"||b.hex===""){return $("<div style='text-shadow: none; position: relative; padding-bottom: 2px; margin-top: 2px;'>transparent</div>")}var d=$("<div style='text-shadow: none; position: relative; padding-bottom: 2px; margin-top: 2px;'>#"+b.hex+"</div>");var a=105;var c=(b.r*0.299)+(b.g*0.587)+(b.b*0.114);var e=(255-c<a)?"Black":"White";d.css("color",e);d.css("background","#"+b.hex);d.addClass("jqx-rc-all");return d}
/*! jQuery JSON plugin v2.5.1 | github.com/Krinkle/jquery-json */
!function($){var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(a){if(null===a){return"null"}var b,c,d,e,f=$.type(a);if("undefined"===f){return void 0}if("number"===f||"boolean"===f){return String(a)}if("string"===f){return $.quoteString(a)}if("function"==typeof a.toJSON){return $.toJSON(a.toJSON())}if("date"===f){var g=a.getUTCMonth()+1,h=a.getUTCDate(),i=a.getUTCFullYear(),j=a.getUTCHours(),k=a.getUTCMinutes(),l=a.getUTCSeconds(),m=a.getUTCMilliseconds();return 10>g&&(g="0"+g),10>h&&(h="0"+h),10>j&&(j="0"+j),10>k&&(k="0"+k),10>l&&(l="0"+l),100>m&&(m="0"+m),10>m&&(m="0"+m),'"'+i+"-"+g+"-"+h+"T"+j+":"+k+":"+l+"."+m+'Z"'}if(b=[],$.isArray(a)){for(c=0;c<a.length;c++){b.push($.toJSON(a[c])||"null")}return"["+b.join(",")+"]"}if("object"==typeof a){for(c in a){if(hasOwn.call(a,c)){if(f=typeof c,"number"===f){d='"'+c+'"'}else{if("string"!==f){continue}d=$.quoteString(c)}f=typeof a[c],"function"!==f&&"undefined"!==f&&(e=$.toJSON(a[c]),b.push(d+":"+e))}}return"{"+b.join(",")+"}"}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+str+")")}throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(a){return a.match(escape)?'"'+a.replace(escape,function(a){var b=meta[a];return"string"==typeof b?b:(b=a.charCodeAt(),"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16))})+'"':'"'+a+'"'}}(jQuery);if(typeof JSON.decycle!=="function"){JSON.decycle=function decycle(a){var b=[],d=[];return(function c(h,j){var g,f,e;if(typeof h==="object"&&h!==null&&!(h instanceof Boolean)&&!(h instanceof Date)&&!(h instanceof Number)&&!(h instanceof RegExp)&&!(h instanceof String)){for(g=0;g<b.length;g+=1){if(b[g]===h){return{$ref:d[g]}}}b.push(h);d.push(j);if(Object.prototype.toString.apply(h)==="[object Array]"){e=[];for(g=0;g<h.length;g+=1){e[g]=c(h[g],j+"["+g+"]")}}else{e={};for(f in h){if(Object.prototype.hasOwnProperty.call(h,f)){e[f]=c(h[f],j+"["+JSON.stringify(f)+"]")}}}return e}return h}(a,"$"))}}if(typeof JSON.retrocycle!=="function"){JSON.retrocycle=function retrocycle($){var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;(function rez(value){var i,item,name,path;if(value&&typeof value==="object"){if(Object.prototype.toString.apply(value)==="[object Array]"){for(i=0;i<value.length;i+=1){item=value[i];if(item&&typeof item==="object"){path=item.$ref;if(typeof path==="string"&&px.test(path)){value[i]=eval(path)}else{rez(item)}}}}else{for(name in value){if(typeof value[name]==="object"){item=value[name];if(item){path=item.$ref;if(typeof path==="string"&&px.test(path)){value[name]=eval(path)}else{rez(item)}}}}}}}($));return $}}function xmlToString(a){var b;if(window.ActiveXObject){b=a.xml;alert(b)}else{b=(new XMLSerializer()).serializeToString(a);alert(b)}return b};