function DeltaTimer(d,b){var f;var g;this.start=h;this.stop=c;function h(){f=setTimeout(a,0);g=Date.now();return g}function c(){clearTimeout(f);return g}function a(){var l=Date.now();var j=l-g;var k=Math.max(b-j,0);f=setTimeout(a,k);g=l+k;d(l)}}var jw={isLoading:false,pageLoading:true};window.jw=jw;jw.siteAddress="SITEADDRESSINSERT";jw.sessionid=document.cookie.match(/JSESSIONID=[^;]+/);jw.angularLoading=false;jw.mobile={};jw.actions={};jw.localstorage={};var jwebswingPermStore={};try{if(Persist){jwebswingPermStore=new Persist.Store("JWebSwingStore");jwebswingPermStore.iterate(function(b,a){jw.localstorage[b]=a})}}catch(e){console.warn("LocalStorage may not work. No persist library added")}jw.sessionstorage={};if(window.sessionStorage){if(window.sessionStorage){for(var i=0;i<window.sessionStorage.length;i++){jw.sessionstorage[window.sessionStorage.key(i)]=window.sessionStorage.getItem(window.sessionStorage.key(i))}}}jw.env={};jw.env.loadescripts=[];jw.env.loadedcss=[];jw.env.controller=null;$("head link[rel$='stylesheet']").each(function(a){jw.env.loadedcss.push($(this).attr("href"))});jw.actions.loadData=function(d,a,c,b){$.each(d.variables,function(h,j){var g=j.variableName;if(c){var f=c(g);f.assign(a,j.variable)}});if(b){b(function(){})}};jw.actions.dataVariable=function(b,a){var c={};c.variableName=b;c.variableObject=a;return c};jw.actions.processResponse=function(b,c,g,f,d,a){jw.actions.processLocalStorage(b);jw.actions.processSessionStorage(b);jw.actions.processHtml(b,c,d,a);jw.actions.processCssReferences(b);jw.actions.processJSReferences(b);jw.actions.processCss(b);jw.actions.loadData(b,c,g,f);jw.actions.processReactions(b)};jw.actions.processLocalStorage=function(a){if(a.localStorage){for(var b in a.localStorage){if(!a.localStorage.hasOwnProperty(b)){continue}var c=a.localStorage[b];try{if(Persist){jwebswingPermStore.set(b,c);jwebswingPermStore.save()}}catch(d){console.warn("LocalStorage may not work. No persist library added")}jw.localstorage[b]=c}}};jw.actions.processSessionStorage=function(a){if(a.sessionStorage){for(var b in a.sessionStorage){if(!a.sessionStorage.hasOwnProperty(b)){continue}var c=a.sessionStorage[b];try{if(Persist){jwebswingPermStore.set(b,c)}}catch(d){console.warn("LocalStorage may not work. No persist library added")}jw.sessionStorage[b]=c}}};jw.actions.processCss=function(a){$("head").append("<style>"+a+"</style>")};jw.actions.loadNextJSReference=function(c,a,b){a=a+1;if(a===(c.length)){b()}else{jw.actions.synchronizedJSReferencesLoad(c,a,b)}};jw.actions.synchronizedJSReferencesLoad=function(d,a,b){var c=d[a];if(c){if(c.endsWith("/jwas")||c.endsWith("/jwjs")||c.endsWith("/jwad")||c.endsWith("/jwdata")||c.endsWith("/jwajax")){a=a+1;$.notCachedScriptSync(c).complete(jw.actions.loadNextJSReference(d,a,b))}else{a=a+1;$.cachedScriptSync(c).complete(jw.actions.loadNextJSReference(d,a,b))}}};jw.actions.processJSReferences=function(a){if(a.jsReferences){jw.actions.synchronizedJSReferencesLoad(a.jsReferences,0,function(){jw.actions.processJsScripts(a)})}else{jw.actions.processJsScripts(a)}};jw.actions.processJsScripts=function(a){if(a.jsScripts){$.each(a.jsScripts,function(b,c){jw.actions.loadScript(c)})}if(a.events){$.each(a.events,function(b,c){jw.actions.loadScript(c)})}if(a.features){$.each(a.features,function(b,c){jw.actions.loadScript(c)})}};jw.actions.loadScript=function(item,tries){if(!tries){tries=0}try{var result=eval(item)}catch(e){console.log(e);tries=tries+1;if(tries<10){setTimeout(jw.actions.loadScript(item,tries),1500)}}};jw.actions.processCssReferences=function(a){$.each(a.cssLinks,function(d,f){var c=document.styleSheets;var g=false;for(var d=0,b=c.length;d<b;d++){if(c[d].href===f){g=true;break}}if(!g){$("head").append('<link rel="stylesheet" type="text/css" href="'+f+'">')}})};jw.actions.processHtml=function(b,c,d,a){if(b.components){$.each(b.components,function(h,j){var l;var g=$(j.html);if(j.insertType==="Replace"){$("#"+j.id).replaceWith(g)}else{if(j.insertType==="Append"){$("#"+j.id).after(g)}else{if(j.insertType==="Prepend"){$("#"+j.id).before(g)}else{if(j.insertType==="Insert"){$("#"+j.id).prepend(g)}else{if(j.insertType==="Insert_Last"){$("#"+j.id).append(g)}}}}}var f=$("#"+j.id);try{d(f)(c);c.$apply()}catch(k){d(f)(a);a.$apply()}})}};jw.actions.processReactions=function(a){$.each(a.reactions,function(c,g){var k=g.reactionTitle;var f=g.reactionMessage;var d=g.reactionType;var j=g.type;var h=g.actionTimeout;var b=g.options;if(d==="DialogDisplay"){jw.actions.showDialog(k,f,j,b)}else{if(d==="RedirectHome"){setTimeout("location.reload();",h)}}})};jw.actions.showDialog=function(d,c,b,a){if(BootstrapDialog){if(a){a.title=d;a.message=c;BootstrapDialog.show(a)}if(b==="Danger"){BootstrapDialog.show({title:d,message:c,type:BootstrapDialog.TYPE_DANGER})}else{if(b==="Success"){BootstrapDialog.show({title:d,message:c,type:BootstrapDialog.TYPE_SUCCESS})}else{if(b==="Secondary"){BootstrapDialog.show({title:d,message:c,type:BootstrapDialog.TYPE_SECONDARY})}else{if(b==="Dark"){BootstrapDialog.show({title:d,message:c,type:BootstrapDialog.TYPE_DARK})}else{if(b==="Light"){BootstrapDialog.show({title:d,message:c,type:BootstrapDialog.TYPE_LIGHT})}else{if(b==="Warning"){BootstrapDialog.show({title:d,message:c,type:BootstrapDialog.TYPE_WARNING})}else{if(b==="Primary"){BootstrapDialog.show({title:d,message:c,type:BootstrapDialog.TYPE_PRIMARY})}else{if(b==="Information"){BootstrapDialog.show({title:d,message:c,type:BootstrapDialog.TYPE_INFO})}else{if(b==="Default"){BootstrapDialog.show({title:d,message:c,type:BootstrapDialog.TYPE_INFO})}}}}}}}}}}};jQuery.cachedScript=function(b,a){a=$.extend(a||{},{dataType:"script",cache:true,url:b,async:true});return jQuery.ajax(a)};jQuery.cachedScriptSync=function(b,a){a=$.extend(a||{},{dataType:"script",cache:true,url:b,async:false});return jQuery.ajax(a)};jQuery.notCachedScript=function(b,a){a=$.extend(a||{},{dataType:"script",cache:false,url:b,async:true});return jQuery.ajax(a)};jQuery.notCachedScriptSync=function(b,a){a=$.extend(a||{},{dataType:"script",cache:false,url:b,async:false});return jQuery.ajax(a)};