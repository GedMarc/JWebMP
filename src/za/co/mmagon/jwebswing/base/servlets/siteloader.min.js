
var jw={isLoading:false,pageLoading:true};window.jw=jw;jw.siteAddress="SITEADDRESSINSERT";jw.angularLoading=false;jw.mobile={};jw.actions={};jw.localstorage={};var jwebswingPermStore=new Persist.Store("JWebSwingStore");jwebswingPermStore.iterate(function(b,a){jw.localstorage[b]=a});jw.sessionstorage={};if(window.sessionStorage){if(window.sessionStorage){for(var i=0;i<window.sessionStorage.length;i++){jw.sessionstorage[window.sessionStorage.key(i)]=window.sessionStorage.getItem(window.sessionStorage.key(i))}}}jw.env={};jw.env.loadescripts=[];jw.env.loadedcss=[];jw.env.controller=null;$("head link[rel$='stylesheet']").each(function(a){jw.env.loadedcss.push($(this).attr("href"))});jw.actions.loadData=function(d,a,c,b){$.each(d.variables,function(g,h){var f=h.variableName;if(c){var e=c(f);e.assign(a,h.variable)}});if(b){b(function(){})}};jw.actions.dataVariable=function(b,a){var c={};c.variableName=b;c.variableObject=a;return c};jw.actions.processResponse=function(b,c,f,e,d,a){jw.actions.processLocalStorage(b);jw.actions.processSessionStorage(b);jw.actions.processHtml(b,c,d,a);jw.actions.processCssReferences(b);jw.actions.processJSReferences(b);jw.actions.processCss(b);jw.actions.loadData(b,c,f,e);jw.actions.processReactions(b)};jw.actions.processLocalStorage=function(a){if(a.localStorage){for(var b in a.localStorage){if(!a.localStorage.hasOwnProperty(b)){continue}var c=a.localStorage[b];jwebswingPermStore.set(b,c);jw.localstorage[b]=c;jwebswingPermStore.save()}}};jw.actions.processSessionStorage=function(a){if(a.sessionStorage){for(var b in a.sessionStorage){if(!a.sessionStorage.hasOwnProperty(b)){continue}var c=a.sessionStorage[b];jwebswingPermStore.set(b,c);jw.sessionStorage[b]=c}}};jw.actions.processCss=function(a){$("head").append("<style>"+a+"</style>")};jw.actions.loadNextJSReference=function(c,a,b){a=a+1;if(a===(c.length)){b()}else{jw.actions.synchronizedJSReferencesLoad(c,a,b)}};jw.actions.synchronizedJSReferencesLoad=function(d,a,b){var c=d[a];if(c){if(c.endsWith("/jwas")||c.endsWith("/jwjs")||c.endsWith("/jwad")||c.endsWith("/jwdata")||c.endsWith("/jwajax")){a=a+1;$.notCachedScriptSync(c).complete(jw.actions.loadNextJSReference(d,a,b))}else{a=a+1;$.cachedScriptSync(c).complete(jw.actions.loadNextJSReference(d,a,b))}}};jw.actions.processJSReferences=function(a){if(a.jsReferences){jw.actions.synchronizedJSReferencesLoad(a.jsReferences,0,function(){jw.actions.processJsScripts(a)})}else{jw.actions.processJsScripts(a)}};jw.actions.processJsScripts=function(a){if(a.jsScripts){$.each(a.jsScripts,function(b,c){jw.actions.loadScript(c)})}if(a.events){$.each(a.events,function(b,c){jw.actions.loadScript(c)})}if(a.features){$.each(a.features,function(b,c){jw.actions.loadScript(c)})}};jw.actions.loadScript=function(item,tries){if(!tries){tries=0}try{var result=eval(item)}catch(e){console.log(e);tries=tries+1;if(tries<10){setTimeout(jw.actions.loadScript(item,tries),1500)}}};jw.actions.processCssReferences=function(a){$.each(a.cssLinks,function(d,e){var c=document.styleSheets;var f=false;for(var d=0,b=c.length;d<b;d++){if(c[d].href===e){f=true;break}}if(!f){$("head").append('<link rel="stylesheet" type="text/css" href="'+e+'">')}})};jw.actions.processHtml=function(b,c,d,a){if(b.components){$.each(b.components,function(h,j){var l;var g=$(j.html);if(j.insertType==="Replace"){$("#"+j.id).replaceWith(g)}else{if(j.insertType==="Append"){$("#"+j.id).after(g)}else{if(j.insertType==="Prepend"){$("#"+j.id).before(g)}else{if(j.insertType==="Insert"){$("#"+j.id).prepend(g)}else{if(j.insertType==="Insert_Last"){$("#"+j.id).append(g)}}}}}var f=$("#"+j.id);try{d(f)(c);c.$apply()}catch(k){d(f)(a);a.$apply()}})}};jw.actions.processReactions=function(a){$.each(a.reactions,function(b,e){var h=e.reactionTitle;var d=e.reactionMessage;var c=e.reactionType;var g=e.type;var f=e.actionTimeout;if(c==="DialogDisplay"){jw.actions.showDialog(h,d,g)}else{if(c==="RedirectHome"){setTimeout("location.reload();",f)}}})};jw.actions.showDialog=function(c,b,a){if(BootstrapDialog){if(a==="Danger"){BootstrapDialog.show({title:c,message:b,type:BootstrapDialog.TYPE_DANGER})}else{if(a==="Success"){BootstrapDialog.show({title:c,message:b,type:BootstrapDialog.TYPE_SUCCESS})}else{if(a==="Warning"){BootstrapDialog.show({title:c,message:b,type:BootstrapDialog.TYPE_WARNING})}else{if(a==="Primary"){BootstrapDialog.show({title:c,message:b,type:BootstrapDialog.TYPE_INFO})}else{if(a==="Information"){BootstrapDialog.show({title:c,message:b,type:BootstrapDialog.TYPE_INFO})}else{if(a==="Default"){BootstrapDialog.show({title:c,message:b,type:BootstrapDialog.TYPE_INFO})}}}}}}}};jQuery.cachedScript=function(b,a){a=$.extend(a||{},{dataType:"script",cache:true,url:b,async:true});return jQuery.ajax(a)};jQuery.cachedScriptSync=function(b,a){a=$.extend(a||{},{dataType:"script",cache:true,url:b,async:false});return jQuery.ajax(a)};jQuery.notCachedScript=function(b,a){a=$.extend(a||{},{dataType:"script",cache:false,url:b,async:true});return jQuery.ajax(a)};jQuery.notCachedScriptSync=function(b,a){a=$.extend(a||{},{dataType:"script",cache:false,url:b,async:false});return jQuery.ajax(a)};

 
