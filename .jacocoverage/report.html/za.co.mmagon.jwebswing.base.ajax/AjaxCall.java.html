<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>AjaxCall.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;JWebSwing&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">za.co.mmagon.jwebswing.base.ajax</a> &gt; <span class="el_source">AjaxCall.java</span></div><h1>AjaxCall.java</h1><pre class="source lang-java linenums">/*
 * Copyright (C) 2015 GedMarc
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
package za.co.mmagon.jwebswing.base.ajax;

import com.fasterxml.jackson.annotation.*;
import java.util.*;
import javax.servlet.ServletException;
import za.co.mmagon.jwebswing.Page;
import za.co.mmagon.jwebswing.base.ComponentHierarchyBase;
import za.co.mmagon.jwebswing.htmlbuilder.javascript.JavaScriptPart;
import za.co.mmagon.jwebswing.htmlbuilder.javascript.events.enumerations.EventTypes;

/**
 *
 * This class handles the decoding of an AJAX call being received
 * &lt;p&gt;
 * @author GedMarc
 * @since 04 May 2015
 */
@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE, setterVisibility = JsonAutoDetect.Visibility.NONE)
@JsonInclude(JsonInclude.Include.NON_EMPTY)
public class AjaxCall extends JavaScriptPart
{

    private static final long serialVersionUID = 1L;
    /**
     * The component ID that was sent back
     */
    private String componentId;
    /**
     * The date of the client event - used to measure network congestion.
     */
    private Date datetime;
    /**
     * The event type
     */
    private EventTypes eventType;
    /**
     * @deprecated
     *
     */
    @Deprecated
    private EventTypes eventTypeFrom;
    /**
     * The angular event variable
     */
    private AjaxEventValue value;
    /**
     * The component object that this call is linked to
     */
    @JsonIgnore
    private ComponentHierarchyBase component;
    /**
     * Is an incoming string of angular data
     */
    private List&lt;AngularJsonVariable&gt; variableData;
    /**
     * The event ID
     */
    private String eventId;

    /**
     * JSon Jackson Constructor
     */
    public AjaxCall()
<span class="nc" id="L80">    {</span>
        //set nothing
<span class="nc" id="L82">    }</span>

    /**
     * Creates a valid AJAX call object that can be processed
     *
     * @param componentId   The component ID
     * @param datetime      The Date Time
     * @param eventType     The ComponentEventBase Type
     * @param eventTypeFrom The ComponentEventBase Type From
     * @param value         The Value
     * @param page          The Page
     *
     * @throws ServletException In Case anything is funky
     */
    public AjaxCall(String componentId, Date datetime, String eventType, String eventTypeFrom, AjaxEventValue value, Page page) throws ServletException
<span class="nc" id="L97">    {</span>
<span class="nc" id="L98">        this.componentId = componentId;</span>
<span class="nc" id="L99">        this.datetime = datetime;</span>
<span class="nc" id="L100">        this.value = value;</span>
<span class="nc" id="L101">        this.eventType = EventTypes.valueOf(eventType);</span>
<span class="nc" id="L102">        this.eventTypeFrom = EventTypes.valueOf(eventTypeFrom);</span>
<span class="nc" id="L103">    }</span>

    /**
     * Returns this component ID
     *
     * @return
     */
    public final String getComponentId()
    {
<span class="nc" id="L112">        return componentId;</span>
    }

    /**
     * Sets this component ID
     *
     * @param componentId
     */
    public void setComponentId(String componentId)
    {
<span class="nc" id="L122">        this.componentId = componentId;</span>
<span class="nc" id="L123">    }</span>

    /**
     * Returns this date time of this call
     *
     * @return
     */
    public Date getDatetime()
    {
<span class="nc" id="L132">        return datetime;</span>
    }

    /**
     * Sets the date time of this call
     *
     * @param datetime
     */
    public void setDatetime(Date datetime)
    {
<span class="nc" id="L142">        this.datetime = datetime;</span>
<span class="nc" id="L143">    }</span>

    /**
     * Gets event type
     *
     * @return
     */
    public EventTypes getEventType()
    {
<span class="nc" id="L152">        return eventType;</span>
    }

    /**
     * Sets the event type
     *
     * @param eventType
     */
    public void setEventType(EventTypes eventType)
    {
<span class="nc" id="L162">        this.eventType = eventType;</span>
<span class="nc" id="L163">    }</span>

    /**
     * Returns this calls event type from
     *
     * @return
     */
    public EventTypes getEventTypeFrom()
    {
<span class="nc" id="L172">        return eventTypeFrom;</span>
    }

    /**
     * Sets this calls event type from
     *
     * @param eventTypeFrom
     */
    public void setEventTypeFrom(EventTypes eventTypeFrom)
    {
<span class="nc" id="L182">        this.eventTypeFrom = eventTypeFrom;</span>
<span class="nc" id="L183">    }</span>

    /**
     * Returns this calls value
     *
     * @return
     */
    public AjaxEventValue getValue()
    {
<span class="nc" id="L192">        return value;</span>
    }

    /**
     * Sets this calls value
     *
     * @param value
     */
    public void setValue(AjaxEventValue value)
    {
<span class="nc" id="L202">        this.value = value;</span>
<span class="nc" id="L203">    }</span>

    /**
     * Returns this calls component
     *
     * @return
     */
    public ComponentHierarchyBase getComponent()
    {
<span class="nc" id="L212">        return component;</span>
    }

    /**
     * Sets this calls component
     *
     * @param component
     */
    public void setComponent(ComponentHierarchyBase component)
    {
<span class="nc" id="L222">        this.component = component;</span>
<span class="nc" id="L223">    }</span>

    /**
     * Returns JSON strings of inbound variables
     *
     * @return
     */
    public List&lt;AngularJsonVariable&gt; getVariableData()
    {
<span class="nc bnc" id="L232" title="All 2 branches missed.">        if (variableData == null)</span>
        {
<span class="nc" id="L234">            variableData = new ArrayList&lt;&gt;();</span>
        }
<span class="nc" id="L236">        return variableData;</span>
    }

    /**
     * Sets the array list of bound objects?
     *
     * @param variableData
     */
    public void setVariableData(List&lt;AngularJsonVariable&gt; variableData)
    {
<span class="nc" id="L246">        this.variableData = variableData;</span>
<span class="nc" id="L247">    }</span>

    /**
     * Returns the variable with the given name in the array or null
     *
     * @param name The name of the variable as designated
     *
     * @return
     */
    public AngularJsonVariable getVariable(String name)
    {
<span class="nc bnc" id="L258" title="All 2 branches missed.">        for (AngularJsonVariable next : getVariableData())</span>
        {
<span class="nc bnc" id="L260" title="All 2 branches missed.">            if (next.getVariableName().equals(name))</span>
            {
<span class="nc" id="L262">                return next;</span>
            }
<span class="nc" id="L264">        }</span>
<span class="nc" id="L265">        return null;</span>
    }

    /**
     * The event ID
     *
     * @return
     */
    public String getEventId()
    {
<span class="nc" id="L275">        return eventId;</span>
    }

    /**
     * The Event ID
     *
     * @param eventId
     */
    public void setEventId(String eventId)
    {
<span class="nc" id="L285">        this.eventId = eventId;</span>
<span class="nc" id="L286">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>