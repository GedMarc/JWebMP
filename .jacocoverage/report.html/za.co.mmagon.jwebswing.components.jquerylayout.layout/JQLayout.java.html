<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>JQLayout.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;JWebSwing&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">za.co.mmagon.jwebswing.components.jquerylayout.layout</a> &gt; <span class="el_source">JQLayout.java</span></div><h1>JQLayout.java</h1><pre class="source lang-java linenums">package za.co.mmagon.jwebswing.components.jquerylayout.layout;

import java.util.logging.*;
import za.co.mmagon.jwebswing.Feature;
import za.co.mmagon.jwebswing.base.ComponentHierarchyBase;
import za.co.mmagon.jwebswing.base.html.Div;
import za.co.mmagon.jwebswing.base.html.attributes.GlobalAttributes;
import za.co.mmagon.jwebswing.components.pools.jquerylayout.JQLayoutReferencePool;
import za.co.mmagon.jwebswing.components.pools.jqueryui.JQUIReferencePool;
import za.co.mmagon.logger.LogFactory;

/**
 * This class is essentially the Border Layout. Each child div controls it's own settings, access via getRegionLayoutDiv()
 *
 * @author MMagon
 * @since 16 Jul 2013
 * @version 1.0
 */
public class JQLayout extends Feature&lt;JQLayoutOptions, JQLayout&gt; implements IJQLayout
{

<span class="fc" id="L22">    private static final Logger log = LogFactory.getInstance().getLogger(&quot;JWLayout&quot;);</span>
    private static final long serialVersionUID = 1L;

    /**
     * The variable associated with this layout
     */
    private String variableID;
    /**
     * The set of options
     */
    private JQLayoutOptions options;

    private JQLayoutDiv center;
    private JQLayoutDiv north;
    private JQLayoutDiv east;
    private JQLayoutDiv west;
    private JQLayoutDiv south;

    /**
     * Returns a clean version of this components options
     *
     * @return
     */
    public IJQLayout asMe()
    {
<span class="nc" id="L47">        return this;</span>
    }

    /**
     * Constructs a new JWLayout Layout Handler with the given parameters
     * &lt;p&gt;
     * @param component The component to apply the Layout Handler To
     */
    public JQLayout(ComponentHierarchyBase component)
    {
<span class="fc" id="L57">        super(&quot;JQLayout&quot;);</span>
<span class="fc" id="L58">        setComponent(component);</span>
<span class="fc" id="L59">        getComponent().addFeature(this);</span>
<span class="fc" id="L60">        getJavascriptReferences().add(JQUIReferencePool.Core.getJavaScriptReference());</span>
<span class="fc" id="L61">        getJavascriptReferences().add(JQLayoutReferencePool.JQueryLayout.getJavaScriptReference());</span>
<span class="fc" id="L62">        getJavascriptReferences().add(JQLayoutReferencePool.JQueryLayoutResizer.getJavaScriptReference());</span>
<span class="fc" id="L63">        getCssReferences().add(JQUIReferencePool.Core.getCssReference());</span>
<span class="fc" id="L64">        getCssReferences().add(JQLayoutReferencePool.JQueryLayout.getCssReference());</span>
<span class="fc" id="L65">        setVariableID(component.getID());</span>
<span class="fc" id="L66">        getComponent().addAttribute(GlobalAttributes.JWType, &quot;layout&quot;);</span>
<span class="fc" id="L67">        getCenter();</span>
<span class="fc" id="L68">    }</span>

    /**
     * Configures the feature
     */
    @Override
    public void preConfigure()
    {
<span class="pc bpc" id="L76" title="1 of 2 branches missed.">        if (!isInitialized())</span>
        {
<span class="nc" id="L78">            init();</span>
        }
<span class="pc bpc" id="L80" title="1 of 2 branches missed.">        if (!isConfigured())</span>
        {
<span class="fc" id="L82">            getComponent().getPage().getOptions().setjQueryEnabled(true);</span>
<span class="fc" id="L83">            getComponent().getPage().getOptions().setjQueryUIEnabled(true);</span>
        }
<span class="fc" id="L85">        super.preConfigure();</span>
<span class="fc" id="L86">    }</span>

    /**
     * Write the layout options
     */
    @Override
    public void assignFunctionsToComponent()
    {
<span class="fc" id="L94">        StringBuilder sb = new StringBuilder(&quot;var lay_&quot;</span>
<span class="fc" id="L95">                + getComponent().getID()</span>
                + &quot; = &quot;
<span class="fc" id="L97">                + getComponent().getJQueryID()</span>
<span class="fc" id="L98">                + &quot;layout(&quot; + getNewLine());</span>
<span class="fc" id="L99">        sb.append(getOptions());</span>
<span class="fc" id="L100">        sb.append(&quot;);&quot;);</span>
<span class="fc" id="L101">        addQuery(sb.toString());</span>
<span class="fc" id="L102">    }</span>

    /**
     * Sets the variable ID. Adds 'lay_' in front and takes all hyphens (-) into underscores (_)
     *
     * @param variableID
     */
    @Override
    public final void setVariableID(String variableID)
    {
<span class="fc" id="L112">        this.variableID = &quot;lay_&quot; + variableID.replace('-', '_');</span>
<span class="fc" id="L113">        getComponent().addVariable(this.variableID);</span>
<span class="fc" id="L114">    }</span>

    /**
     * Returns the variable ID
     *
     * @return
     */
    @Override
    public String getVariableID()
    {
<span class="nc" id="L124">        return variableID;</span>
    }

    /**
     * Returns the layout options
     * &lt;p&gt;
     * @return
     */
    @Override
    public JQLayoutOptions getOptions()
    {
<span class="pc bpc" id="L135" title="1 of 2 branches missed.">        if (options == null)</span>
        {
<span class="fc" id="L137">            options = new JQLayoutOptions();</span>
        }

<span class="fc" id="L140">        return options;</span>
    }

    /**
     * Returns the center pane
     *
     * @return A Layout pane on the center div
     */
    @Override
    public JQLayoutDiv getCenter()
    {
<span class="pc bpc" id="L151" title="1 of 2 branches missed.">        if (this.center == null)</span>
        {
<span class="fc" id="L153">            setCenter(new JQLayoutDiv(this, JQLayoutArea.Center, new Div()));</span>
        }
<span class="fc" id="L155">        return this.center;</span>
    }

    /**
     * Sets the center pane
     *
     * @param centerDiv The new center panel
     */
    @Override
    public void setCenter(JQLayoutDiv centerDiv)
    {
<span class="fc" id="L166">        getComponent().remove(this.center);</span>
<span class="fc" id="L167">        this.center = centerDiv;</span>
<span class="pc bpc" id="L168" title="1 of 2 branches missed.">        if (this.center != null)</span>
        {
<span class="fc" id="L170">            getComponent().add(this.center);</span>
        }
<span class="fc" id="L172">    }</span>

    /**
     * Returns the center pane
     *
     * @return A Layout pane on the center div
     */
    @Override
    public JQLayoutDiv getNorth()
    {
<span class="nc bnc" id="L182" title="All 2 branches missed.">        if (this.north == null)</span>
        {
<span class="nc" id="L184">            setNorth(new JQLayoutDiv(this, JQLayoutArea.North, new Div()));</span>
        }
<span class="nc" id="L186">        return this.north;</span>
    }

    /**
     * Sets the north pane
     *
     * @param centerDiv The new center panel
     */
    @Override
    public void setNorth(JQLayoutDiv centerDiv)
    {
<span class="nc" id="L197">        getComponent().remove(this.north);</span>
<span class="nc" id="L198">        this.north = centerDiv;</span>
<span class="nc bnc" id="L199" title="All 2 branches missed.">        if (this.north != null)</span>
        {
<span class="nc" id="L201">            getComponent().add(this.north);</span>
        }
<span class="nc" id="L203">    }</span>

    /**
     * Returns the south pane
     *
     * @return A Layout pane on the center div
     */
    @Override
    public JQLayoutDiv getSouth()
    {
<span class="nc bnc" id="L213" title="All 2 branches missed.">        if (this.south == null)</span>
        {
<span class="nc" id="L215">            setSouth(new JQLayoutDiv(this, JQLayoutArea.South, new Div()));</span>
        }
<span class="nc" id="L217">        return this.south;</span>
    }

    /**
     * Sets the south pane
     *
     * @param southDiv The new center panel
     */
    @Override
    public void setSouth(JQLayoutDiv southDiv)
    {
<span class="nc" id="L228">        getComponent().remove(this.south);</span>
<span class="nc" id="L229">        this.south = southDiv;</span>
<span class="nc bnc" id="L230" title="All 2 branches missed.">        if (this.south != null)</span>
        {
<span class="nc" id="L232">            getComponent().add(this.south);</span>
        }
<span class="nc" id="L234">    }</span>

    /**
     * Returns the center pane
     *
     * @return A Layout pane on the center div
     */
    @Override
    public JQLayoutDiv getWest()
    {
<span class="nc bnc" id="L244" title="All 2 branches missed.">        if (this.west == null)</span>
        {
<span class="nc" id="L246">            setWest(new JQLayoutDiv(this, JQLayoutArea.West, new Div()));</span>
        }
<span class="nc" id="L248">        return this.west;</span>
    }

    /**
     * Sets the center pane
     *
     * @param westDiv The new center panel
     */
    @Override
    public void setWest(JQLayoutDiv westDiv)
    {
<span class="nc" id="L259">        getComponent().remove(this.west);</span>
<span class="nc" id="L260">        this.west = westDiv;</span>
<span class="nc bnc" id="L261" title="All 2 branches missed.">        if (this.west != null)</span>
        {
<span class="nc" id="L263">            getComponent().add(this.west);</span>
        }
<span class="nc" id="L265">    }</span>

    /**
     * Returns the center pane
     *
     * @return A Layout pane on the center div
     */
    @Override
    public JQLayoutDiv getEast()
    {
<span class="nc bnc" id="L275" title="All 2 branches missed.">        if (this.east == null)</span>
        {
<span class="nc" id="L277">            setEast(new JQLayoutDiv(this, JQLayoutArea.East, new Div()));</span>
        }
<span class="nc" id="L279">        return this.east;</span>
    }

    /**
     * Sets the center pane
     *
     * @param eastDiv The new center panel
     */
    @Override
    public void setEast(JQLayoutDiv eastDiv)
    {
<span class="nc" id="L290">        getComponent().remove(this.east);</span>
<span class="nc" id="L291">        this.east = eastDiv;</span>
<span class="nc bnc" id="L292" title="All 2 branches missed.">        if (this.east != null)</span>
        {
<span class="nc" id="L294">            getComponent().add(this.east);</span>
        }
<span class="nc" id="L296">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>